FROM node:18.12.1-bullseye-slim

RUN mkdir -p /usr/src/app

WORKDIR /usr/src/app

RUN apt update

RUN apt install curl -y

RUN curl -fsSL "https://github.com/pnpm/pnpm/releases/latest/download/pnpm-linuxstatic-x64" -o /bin/pnpm; chmod +x /bin/pnpm;

COPY . ./

RUN pnpm install

RUN pnpm run build

CMD ["pnpm", "run", "start"]